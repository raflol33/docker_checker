{% for c in containers %}
<tr class="hover:bg-gray-700/30 transition">
    <td class="px-4 py-3 whitespace-nowrap">
        <div class="flex items-center gap-2">
            {% if 'running' in c.state|lower %}
            <span
                class="w-2.5 h-2.5 rounded-full bg-green-500 animate-pulse shadow-[0_0_8px_rgba(34,197,94,0.6)]"></span>
            {% else %}
            <span class="w-2.5 h-2.5 rounded-full bg-red-500"></span>
            {% endif %}
            <div class="flex flex-col">
                <span class="text-xs text-white uppercase font-bold">{{ c.state }}</span>
                <span class="text-[10px] text-gray-400 font-mono">{{ c.status }}</span>
            </div>
        </div>
    </td>
    <td class="px-4 py-3 font-medium text-white">{{ c.name }}</td>
    <td class="px-4 py-3 text-gray-300 text-xs font-mono whitespace-normal break-all" title="{{ c.image }}">
        {{ c.image }}
    </td>
    <td class="px-4 py-3 text-gray-400 text-xs font-mono whitespace-nowrap">
        {{ c.created }}
    </td>
    <td class="px-4 py-3 text-gray-400 text-xs font-mono whitespace-normal break-all" title="{{ c.ports }}">
        {{ c.ports }}
    </td>
    <td class="px-4 py-3 text-blue-400 font-mono text-xs">{{ c.host }}</td>
    <td class="px-4 py-3 text-right flex items-center justify-end gap-2">
        {% if c.compose_path %}
        <form hx-post="/compose/action" hx-swap="none" class="flex gap-1"
            hx-confirm="–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç Compose (down && up -d)?">
            <input type="hidden" name="host_name" value="{{ c.host }}">
            <input type="hidden" name="path" value="{{ c.compose_path }}">
            <button type="submit" name="action" value="restart"
                class="bg-blue-900/50 hover:bg-blue-800 text-blue-200 px-2 py-1 rounded border border-blue-800 transition text-xs flex items-center gap-1 font-bold"
                title="–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ü—Ä–æ–µ–∫—Ç (Down & Up)">
                RESTART PROJECT
            </button>
        </form>
        {% endif %}

        <button hx-get="/containers/{{c.host}}/{{c.id}}/logs" hx-target="#modal-content" hx-trigger="click"
            onclick="document.getElementById('log-modal').showModal()"
            class="text-gray-400 hover:text-white transition p-1" title="–õ–æ–≥–∏">
            üìú
        </button>

        {% if 'running' in c.state|lower %}
        <button hx-post="/containers/{{c.host}}/{{c.id}}/stop" hx-swap="none"
            class="text-red-500 hover:text-red-400 transition p-1" title="–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å">
            ‚õî
        </button>
        {% else %}
        <button hx-post="/containers/{{c.host}}/{{c.id}}/start" hx-swap="none"
            class="text-green-500 hover:text-green-400 transition p-1" title="–ó–∞–ø—É—Å—Ç–∏—Ç—å">
            ‚ñ∂Ô∏è
        </button>
        {% endif %}

        <button hx-post="/containers/{{c.host}}/{{c.id}}/restart" hx-swap="none"
            class="text-yellow-500 hover:text-yellow-400 transition p-1" title="–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å">
            üîÑ
        </button>
    </td>
</tr>
{% else %}
<tr>
    <td colspan="7" class="px-4 py-8 text-center text-gray-500">
        –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –î–æ–±–∞–≤—å—Ç–µ —Ö–æ—Å—Ç –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.
    </td>
</tr>
{% endfor %}